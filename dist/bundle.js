import*as o from"https://deno.land/x/oak@v10.6.0/mod.ts";import{qrcode as m}from"https://deno.land/x/qrcode@v2.0.0/mod.ts";async function e(t){return await m(t,{size:256})}import{renderFile as l}from"https://deno.land/x/mustache_ts@v0.4.1.1/mustache.ts";async function n(t){return t.css="./src/css/main.css",await l("./src/views/main.html",t)}var u=80,r=new o.Application,s=new o.Router;s.all("/:item",async t=>{t.response.status=200,t.response.headers.set("Content-Type","text/html"),t.response.body=await n({src:`${await e(t.params.item)}`})});r.use(s.routes());async function a(){r.addEventListener("listen",({secure:t,hostname:i,port:p})=>{let c=`${t?"https://":"http://"}${i??"localhost"}:${p}`;console.log(`Listening on: ${c}`)}),await r.listen({port:u})}await a();
